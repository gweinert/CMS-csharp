$(document).ready(function(){console.log("Site",Site);Site.initialize()});var Site=function(){function n(){t()}function t(){function n(){$(this).summernote("code",$(this).text())}function t(n){var t=$(this).siblings("input[type=hidden]");t.val(n)}$(".summernote").summernote({height:300,minHeight:null,maxHeight:null,callbacks:{onInit:n,onChange:t}})}function i(n,t,i){var o=n.files,e=o[0],f=new FormData,u;f.append("image",e,e.name);f.append("pageID",i);f.append("pageElementID",t);u=new XMLHttpRequest;u.open("POST","/api/image",!0);u.send(f);u.onreadystatechange=function(){if(u.readyState===4){var t=JSON.parse(u.responseText);u.success!==0?r(t,n):console.log("failed")}}}function r(n,t){console.log("success! of image upload",n);t.style.display="none";var i=document.createElement("img");i.src=n.imagePath;i.setAttribute("width","50");i.setAttribute("height","50");$(i).insertAfter($(t))}return{initialize:n,uploadImage:i}}();